<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=2,viewport-fit=cover"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="renderer" content="webkit"><title> - JiangKingåšå®¢</title><meta name="description" content="é˜…è¯»JiangKingåšå®¢ä¸Šçš„ã€Šundefinedã€‹ï¼Œæ¢ç´¢æ›´å¤šæŠ€æœ¯å†…å®¹"><meta name="keywords" content=", undefined, åšå®¢, JiangKing"><meta name="author" content="JiangKing"><meta property="og:title" content="undefined - JiangKingåšå®¢"><meta property="og:description" content="é˜…è¯»JiangKingåšå®¢ä¸Šçš„ã€Šundefinedã€‹ï¼Œæ¢ç´¢æ›´å¤šæŠ€æœ¯å†…å®¹"><meta property="og:type" content="article"><meta property="og:url" content="https://jiangking.com/blog/undefined.html"><meta property="article:published_time" content="undefined"><meta property="article:author" content="JiangKing"><meta name="theme-color" content="#0f0f23"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link rel="preload" href="/css/blog.css" as="style"><link rel="stylesheet" href="/css/blog.css"><style>.image-container {
  margin: 20px 0;
  text-align: center;
  position: relative;
}

.image-container img {
  max-width: 100%;
  min-height: 150px;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  loading: lazy; /* å»¶è¿ŸåŠ è½½ä¼˜åŒ– */
}

/* ç‰¹æ®Šæ ·å¼ç”¨äºSVGå›¾ç‰‡ */
.image-container img.svg-image {
  background-color: #f8f9fa;
  padding: 10px;
  border: 1px solid #e2e8f0;
}

.image-container img.error {
  border: 1px dashed #ff5555;
  background-color: #ffecea;
}

/* ç§»åŠ¨ç«¯ä¼˜åŒ–æ ·å¼ */
@media (max-width: 768px) {
  .article-header {
    padding: 60px 15px 30px;
  }
  
  .article-title {
    font-size: 1.8rem;
    line-height: 1.3;
  }
  
  .article-meta {
    flex-wrap: wrap;
    gap: 8px;
  }
  
  .article-container {
    padding: 20px 15px;
  }
}</style></head><body><div class="dynamic-bg"></div><div class="grid-bg"></div><div class="cursor-glow" id="cursorGlow"></div><div class="progress-bar" id="progressBar"></div><header class="top-nav" role="banner"><div class="nav-left"><a class="back-btn" href="/blog/" title="è¿”å›é¦–é¡µ" aria-label="è¿”å›åšå®¢é¦–é¡µ">â†</a><h3 class="site-title">JiangKing</h3></div><div class="nav-right"><button class="nav-btn" title="ç›®å½•" aria-label="æŸ¥çœ‹æ–‡ç« ç›®å½•">ğŸ“‘</button><button class="nav-btn" title="æš—è‰²æ¨¡å¼" aria-label="åˆ‡æ¢æš—è‰²æ¨¡å¼">ğŸŒ™</button><button class="nav-btn" title="åˆ†äº«" aria-label="åˆ†äº«æ–‡ç« ">ğŸ”—</button></div></header><section class="article-header"><div class="header-bg"><canvas id="headerCanvas"></canvas></div><div class="header-content"><h1 class="article-title" itemprop="headline"></h1><div class="article-meta"><span class="meta-item"><span class="meta-icon">ğŸ‘¤</span><span itemprop="author"></span></span><span class="meta-item"><span class="meta-icon">ğŸ“…</span><time itemprop="datePublished"></time></span><span class="meta-item"><span class="meta-icon">â±ï¸</span><span>1 min read</span></span><span class="meta-item"><span class="meta-icon">ğŸ‘ï¸</span><span>1.2k</span></span></div></div></section><article class="article-container" itemscope itemtype="https://schema.org/BlogPosting"><meta itemprop="headline"><meta itemprop="author"><meta itemprop="datePublished"><div class="article-content" itemprop="articleBody"></div><section class="article-tags" role="contentinfo" aria-label="æ–‡ç« æ ‡ç­¾"></section><section class="author-info" itemscope itemtype="https://schema.org/Person"><div class="author-avatar"><img src="/assets/avatar.jpg" itemprop="image" loading="lazy"></div><div class="author-details"><h4 itemprop="name"></h4><p class="author-bio" itemprop="description">STDIN | Think >> /dev/Mindâœ¨ - ä¸“æ³¨äºæŠ€æœ¯åˆ†äº«ä¸æ€è€ƒ</p></div></section><section class="related-posts" aria-labelledby="related-posts-title"><h3 class="section-title" id="related-posts-title">ç›¸å…³æ–‡ç« </h3><div class="related-grid" role="feed" aria-label="ç›¸å…³æ–‡ç« åˆ—è¡¨"></div></section></article><div class="article-actions" role="toolbar" aria-label="æ–‡ç« æ“ä½œ"><button class="action-btn" title="ç‚¹èµ" aria-label="ç‚¹èµæ–‡ç« ">ğŸ‘</button><button class="action-btn" title="æ”¶è—" aria-label="æ”¶è—æ–‡ç« ">â­</button><button class="action-btn" title="è¯„è®º" aria-label="æŸ¥çœ‹æˆ–å‘è¡¨è¯„è®º">ğŸ’¬</button><div class="action-divider"></div><button class="action-btn" title="åˆ†äº«" aria-label="åˆ†äº«æ–‡ç« ">ğŸ“¤</button><button class="action-btn" title="å›åˆ°é¡¶éƒ¨" onclick="scrollToTop()" aria-label="å›åˆ°é¡µé¢é¡¶éƒ¨">â¬†ï¸</button></div><nav class="toc" id="toc" role="navigation" aria-label="æ–‡ç« ç›®å½•"><h4 class="toc-title">ç›®å½•</h4><ul class="toc-list"></ul></nav><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "",
  "datePublished": "",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "JiangKing"
  },
  "publisher": {
    "@type": "Organization",
    "name": "JiangKingåšå®¢",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jiangking.com/assets/avatar.jpg"
    }
  },
  "description": "é˜…è¯»JiangKingåšå®¢ä¸Šçš„ã€Šundefinedã€‹ï¼Œæ¢ç´¢æ›´å¤šæŠ€æœ¯å†…å®¹",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jiangking.com/blog/.html"
  }
}
</script><script>// é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
document.addEventListener('DOMContentLoaded', function() {
  console.log('å¼€å§‹å¤„ç†å›¾ç‰‡æ˜¾ç¤ºé—®é¢˜');
  
  // æ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒwebpæ ¼å¼
  function checkWebpSupport() {
    const canvas = document.createElement('canvas');
    if (!canvas.getContext || !canvas.getContext('2d')) {
      return false;
    }
    
    return canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0;
  }
  
  const supportsWebp = checkWebpSupport();
  console.log('æµè§ˆå™¨æ”¯æŒwebpæ ¼å¼:', supportsWebp);

  // 1. å¤„ç†ç›´æ¥æ˜¾ç¤ºä¸ºæ–‡æœ¬çš„å›¾ç‰‡URL (657bf33bfbf478066fd24f11b0eb95f7.webp)
  const allElements = document.querySelectorAll('.article-content *');
  allElements.forEach(el => {
    // æ£€æŸ¥æ˜¯å¦ä¸ºçº¯æ–‡æœ¬å…ƒç´ ä¸”æ–‡æœ¬å†…å®¹åƒå›¾ç‰‡URL
    const content = el.textContent ? el.textContent.trim() : '';
    if (content && (
        content.match(/[a-f0-9]{32}\.webp$/i) ||
        content.match(/\.(webp|jpg|png|gif|jpeg)$/i)
      ) &&
      el.childNodes.length === 1 &&
      el.childNodes[0].nodeType === Node.TEXT_NODE) {
      
      console.log('æ‰¾åˆ°å¯èƒ½æ˜¯å›¾ç‰‡URLçš„æ–‡æœ¬:', content);
      
      // åˆ›å»ºå›¾ç‰‡å®¹å™¨å’Œå›¾ç‰‡å…ƒç´ 
      const imgContainer = document.createElement('div');
      imgContainer.className = 'image-container';
      
      const img = document.createElement('img');
      
      // å°è¯•æ„é€ æ­£ç¡®çš„å›¾ç‰‡è·¯å¾„
      if (content.startsWith('/')) {
        // å·²ç»æ˜¯ç›¸å¯¹è·¯å¾„
        img.src = content;
      } else if (content.match(/[a-f0-9]{32}\.webp$/i) || content.endsWith('.webp')) {
        // çœ‹èµ·æ¥åƒæ˜¯åœ¨å½“å‰æ–‡ç« ç›®å½•ä¸‹çš„webpå›¾ç‰‡
        const articleId = window.location.pathname.split('/').pop().replace('.html', '');
        img.src = `/blog/images/${articleId}/${content}`;
      } else {
        // é»˜è®¤ä½¿ç”¨å ä½å›¾
        img.src = '/assets/placeholder-image.svg';
      }
      
      // æ·»åŠ é”™è¯¯å¤„ç†
      img.alt = 'æ–‡ç« å›¾ç‰‡';
      img.setAttribute('data-original-text', content);
      img.onerror = function() {
        this.onerror = null;
        this.src = '/assets/placeholder-image.svg';
        this.classList.add('error');
      };
      
      imgContainer.appendChild(img);
      
      // æ›¿æ¢å…ƒç´ 
      el.parentNode.replaceChild(imgContainer, el);
    }
  });
  
  // 2. æ£€æŸ¥å›¾ç‰‡å®¹å™¨å†…å®¹
  const imageContainers = document.querySelectorAll('.image-container');
  console.log('æ‰¾åˆ°å›¾ç‰‡å®¹å™¨:', imageContainers.length);
  
  imageContainers.forEach((container) => {
    // æ£€æŸ¥å®¹å™¨æ˜¯å¦åªæœ‰æ–‡æœ¬å†…å®¹
    if (!container.querySelector('img') && container.textContent.trim()) {
      const content = container.textContent.trim();
      console.log('å›¾ç‰‡å®¹å™¨å†…åªæœ‰æ–‡æœ¬:', content);
      
      // æ¸…ç©ºå®¹å™¨
      container.innerHTML = '';
      
      // åˆ›å»ºå›¾ç‰‡å…ƒç´ 
      const img = document.createElement('img');
      
      // å°è¯•æ„é€ æ­£ç¡®çš„å›¾ç‰‡è·¯å¾„
      if (content.match(/[a-f0-9]{32}\.webp$/i) || content.endsWith('.webp')) {
        // webpå›¾ç‰‡
        const articleId = window.location.pathname.split('/').pop().replace('.html', '');
        img.src = `/blog/images/${articleId}/${content}`;
      } else {
        // ä½¿ç”¨å ä½å›¾
        img.src = '/assets/placeholder-image.svg';
      }
      
      // æ·»åŠ é”™è¯¯å¤„ç†
      img.alt = 'æ–‡ç« å›¾ç‰‡';
      img.setAttribute('data-text-content', content);
      img.onerror = function() {
        this.onerror = null;
        this.src = '/assets/placeholder-image.svg';
        this.classList.add('error');
      };
      
      // æ·»åŠ åˆ°å®¹å™¨
      container.appendChild(img);
    }
  });
  
  // 3. å¤„ç†æ‰€æœ‰å›¾ç‰‡åŠ è½½é”™è¯¯
  const images = document.querySelectorAll('img');
  console.log('æ‰¾åˆ°å›¾ç‰‡å…ƒç´ :', images.length);
  
  images.forEach((img) => {
    // æ£€æŸ¥æ˜¯å¦ä¸ºSVGå›¾ç‰‡
    if (img.src.toLowerCase().endsWith('.svg')) {
      console.log('æ£€æµ‹åˆ°SVGå›¾ç‰‡:', img.src);
      img.classList.add('svg-image');
      // SVGå›¾ç‰‡ä¸éœ€è¦é”™è¯¯å¤„ç†
      return;
    }
    
    if (img.complete && img.naturalHeight === 0) {
      // å·²ç»åŠ è½½å¤±è´¥çš„å›¾ç‰‡
      console.log('å›¾ç‰‡å·²åŠ è½½å¤±è´¥:', img.src);
      img.classList.add('error');
      
      // å¦‚æœä¸æ˜¯å ä½å›¾ï¼Œåˆ™æ›¿æ¢ä¸ºå ä½å›¾
      if (!img.src.includes('placeholder-image')) {
        img.setAttribute('data-failed-src', img.src);
        img.src = '/assets/placeholder-image.svg';
        img.classList.add('svg-image'); // æ·»åŠ SVGç±»
      }
    } else {
      // æ·»åŠ åŠ è½½é”™è¯¯å¤„ç†
      img.addEventListener('error', function() {
        console.log('å›¾ç‰‡åŠ è½½å¤±è´¥:', this.src);
        this.classList.add('error');
        
        // å¦‚æœä¸æ˜¯å ä½å›¾ï¼Œåˆ™æ›¿æ¢ä¸ºå ä½å›¾
        if (!this.src.includes('placeholder-image')) {
          this.setAttribute('data-failed-src', this.src);
          this.src = '/assets/placeholder-image.svg';
          this.classList.add('svg-image'); // æ·»åŠ SVGç±»
        }
      });
    }
  });
});

// æ»šåŠ¨åˆ°é¡¶éƒ¨
function scrollToTop() {
  window.scrollTo({ top: 0, behavior: 'smooth' });
}</script></body></html>