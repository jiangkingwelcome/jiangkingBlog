<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=2,viewport-fit=cover"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="renderer" content="webkit"><title>JiangKing - 个人技术博客</title><meta name="description" content="JiangKing的个人技术博客，分享编程、技术经验与思考"><meta name="keywords" content="博客,技术,编程,JiangKing,开发,学习"><meta name="author" content="JiangKing"><meta property="og:title" content="JiangKing - 个人技术博客"><meta property="og:description" content="JiangKing的个人技术博客，分享编程、技术经验与思考"><meta property="og:type" content="website"><meta property="og:url" content="https://jiangking.com/"><meta name="theme-color" content="#0f0f23"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link rel="preload" href="/css/blog.css" as="style"><script>(function() {
  // 为所有浏览器应用统一的蓝紫色主题
  document.documentElement.className += ' unified-theme';
  
  // 创建统一的主题样式
  var unifiedStyles = '.unified-theme{--primary:#6366f1;--primary-dark:#4f46e5;--secondary:#8b5cf6;--accent:#ec4899;}.unified-theme .dynamic-bg{background:#0f0f23;background:-webkit-linear-gradient(45deg,#0f0f23 0%,#1a1a3e 50%,#0f0f23 100%);background:linear-gradient(45deg,#0f0f23 0%,#1a1a3e 50%,#0f0f23 100%);}.unified-theme .grid-bg{background-image:-webkit-linear-gradient(top,rgba(99,102,241,0.1) 1px,transparent 1px),-webkit-linear-gradient(left,rgba(99,102,241,0.1) 1px,transparent 1px);background-image:linear-gradient(to bottom,rgba(99,102,241,0.1) 1px,transparent 1px),linear-gradient(to right,rgba(99,102,241,0.1) 1px,transparent 1px);}.unified-theme .sidebar{background:rgba(15,15,35,0.95);border-right:1px solid rgba(99,102,241,0.3);}.unified-theme .avatar-ring{background:#6366f1;background:-webkit-linear-gradient(45deg,#6366f1,#8b5cf6,#ec4899,#6366f1);background:linear-gradient(45deg,#6366f1,#8b5cf6,#ec4899,#6366f1);}.unified-theme .social-link{background:rgba(99,102,241,0.15);border:1px solid rgba(99,102,241,0.3);}.unified-theme .social-link:hover{background:rgba(99,102,241,0.3);border-color:#6366f1;box-shadow:0 0 20px rgba(99,102,241,0.5);}.unified-theme .stat-card{background:rgba(99,102,241,0.1);border:1px solid rgba(99,102,241,0.3);}.unified-theme .stat-value{color:#6366f1;}.unified-theme .post-card{background:rgba(99,102,241,0.08);background:-webkit-linear-gradient(135deg,rgba(99,102,241,0.1),rgba(139,92,246,0.1));background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(139,92,246,0.1));border:1px solid rgba(99,102,241,0.2);}.unified-theme .post-card:hover{box-shadow:0 20px 40px rgba(99,102,241,0.3);border-color:#6366f1;}.unified-theme .tag{background:rgba(99,102,241,0.2);border:1px solid #6366f1;color:#6366f1;}.unified-theme .tag:hover{background:#6366f1;color:#fff;}.unified-theme .tool-btn{background:#6366f1;background:-webkit-linear-gradient(135deg,#6366f1,#8b5cf6);background:linear-gradient(135deg,#6366f1,#8b5cf6);}.unified-theme .loader-ring{border-top-color:#6366f1;}.unified-theme .loader-ring:nth-child(2){border-top-color:#8b5cf6;}.unified-theme .loader-ring:nth-child(3){border-top-color:#ec4899;}';
  
  var styleEl = document.createElement('style');
  styleEl.innerHTML = unifiedStyles;
  document.head.appendChild(styleEl);
  console.log('已应用统一蓝紫色主题');
})();
</script><link rel="stylesheet" href="/css/blog.css"></head><body><div class="dynamic-bg"></div><div class="grid-bg"></div><div class="cursor-glow" id="cursorGlow"></div><div class="loader" id="loader"><div class="loader-ring"></div><div class="loader-ring"></div><div class="loader-ring"></div></div><aside class="sidebar" id="sidebar"><section class="profile-section"><div class="avatar-container"><div class="avatar-ring"></div><div class="avatar"></div></div><h2 class="nickname">JiangKing</h2><div class="social-links"><a class="social-link" href="#" title="微信: jiangking86" aria-label="微信联系"><span style="position: relative; z-index: 1;">💬</span></a><a class="social-link" href="mailto:jiangkingwelcome@vip.qq.com" title="邮箱: jiangkingwelcome@vip.qq.com" aria-label="发送邮件"><span style="position: relative; z-index: 1;">📧</span></a><a class="social-link" href="#" title="QQ: 33855846" aria-label="QQ联系"><span style="position: relative; z-index: 1;">🐧</span></a><a class="social-link" href="#" title="电话" aria-label="电话联系"><span style="position: relative; z-index: 1;">📱</span></a></div><div class="stats"><div class="stat-card"><div class="stat-value">14</div><div class="stat-label">文章</div></div></div></section><nav class="nav-menu" role="navigation" aria-label="主导航"><ul><li class="nav-item active"><a class="nav-link" href="/"><span class="nav-icon">🏠</span><span>主页</span></a></li><li class="nav-item" id="tag-btn"><a class="nav-link" href="javascript:void(0);" aria-haspopup="true" aria-expanded="false"><span class="nav-icon">🏷️</span><span>标签</span></a></li><li class="nav-item" id="category-btn"><a class="nav-link" href="javascript:void(0);" aria-haspopup="true" aria-expanded="false"><span class="nav-icon">📝</span><span>分类</span></a></li><li class="nav-item"><a class="nav-link" href="/github-trending.html"><span class="nav-icon">🔥</span><span>GitHub热门</span></a></li><li class="nav-item"><a class="nav-link" href="/about.html"><span class="nav-icon">✈️</span><span>About</span></a></li></ul></nav></aside><main class="main-content"><section class="hero"><div class="hero-bg"><div class="stars" id="stars"></div></div><div class="hero-content"><h1 class="hero-title">JiangKing</h1><p class="hero-subtitle">探索技术的无限可能 | 从代码到应用的开发之旅</p></div></section><section class="content-wrapper"><div class="posts-grid" role="feed" aria-label="博客文章列表"><article class="post-card" data-category="" itemscope itemtype="http://schema.org/BlogPosting"><h3 class="post-title" itemprop="headline"><a href="/blog/101b99ae-1cea-8006-aec9-e2985c944f8e.html" itemprop="url">新闻</a></h3><div class="post-meta"><span class="meta-item"><span class="meta-icon">📅</span><time itemprop="datePublished" datetime="2025-05-26">2025-05-26</time></span></div><p class="post-excerpt" itemprop="description">今日热点新闻</p><a class="read-more" href="/blog/101b99ae-1cea-8006-aec9-e2985c944f8e.html" aria-label="阅读《新闻》全文">阅读全文</a></article><article class="post-card" data-category="技术分享" itemscope itemtype="http://schema.org/BlogPosting"><h3 class="post-title" itemprop="headline"><a href="/blog/101b99ae-1cea-808b-a9b9-f76ec28ddc76.html" itemprop="url">Win11的文件夹卡顿以及加速</a></h3><div class="post-meta"><span class="meta-item"><span class="meta-icon">📅</span><time itemprop="datePublished" datetime="2021-11-05">2021-11-05</time></span></div><p class="post-excerpt" itemprop="description">win11文件夹卡顿</p><a class="read-more" href="/blog/101b99ae-1cea-808b-a9b9-f76ec28ddc76.html" aria-label="阅读《Win11的文件夹卡顿以及加速》全文">阅读全文</a></article><article class="post-card" data-category="破解下载" itemscope itemtype="http://schema.org/BlogPosting"><h3 class="post-title" itemprop="headline"><a href="/blog/101b99ae-1cea-80fa-8de2-f5ab1df1d609.html" itemprop="url">魔兽争霸3：冰封王座 v1.20~1.27 全系列典藏版【全地图合集】</a></h3><div class="post-meta"><span class="meta-item"><span class="meta-icon">📅</span><time itemprop="datePublished" datetime="2021-11-05">2021-11-05</time></span></div><p class="post-excerpt" itemprop="description">魔兽3冰封王座3</p><a class="read-more" href="/blog/101b99ae-1cea-80fa-8de2-f5ab1df1d609.html" aria-label="阅读《魔兽争霸3：冰封王座 v1.20~1.27 全系列典藏版【全地图合集】》全文">阅读全文</a></article><article class="post-card" data-category="破解下载" itemscope itemtype="http://schema.org/BlogPosting"><h3 class="post-title" itemprop="headline"><a href="/blog/101b99ae-1cea-805e-b2d7-c32596cf740a.html" itemprop="url">黑悟空最新黑魔法破解</a></h3><div class="post-meta"><span class="meta-item"><span class="meta-icon">📅</span><time itemprop="datePublished" datetime="2021-11-05">2021-11-05</time></span></div><p class="post-excerpt" itemprop="description">黑悟空最新黑魔法破解</p><a class="read-more" href="/blog/101b99ae-1cea-805e-b2d7-c32596cf740a.html" aria-label="阅读《黑悟空最新黑魔法破解》全文">阅读全文</a></article><article class="post-card" data-category="最新电影" itemscope itemtype="http://schema.org/BlogPosting"><h3 class="post-title" itemprop="headline"><a href="/blog/101b99ae-1cea-800e-9c1a-db9f6fea801c.html" itemprop="url">姥姥的外孙（2024）4k 泰语+台配.内嵌官方中文</a></h3><div class="post-meta"><span class="meta-item"><span class="meta-icon">📅</span><time itemprop="datePublished" datetime="2021-11-05">2021-11-05</time></span></div><p class="post-excerpt" itemprop="description">姥姥的外孙下载</p><a class="read-more" href="/blog/101b99ae-1cea-800e-9c1a-db9f6fea801c.html" aria-label="阅读《姥姥的外孙（2024）4k 泰语+台配.内嵌官方中文》全文">阅读全文</a></article><article class="post-card" data-category="技术分享" itemscope itemtype="http://schema.org/BlogPosting"><h3 class="post-title" itemprop="headline"><a href="/blog/101b99ae-1cea-80b3-aec6-ed79d82125e5.html" itemprop="url">游戏服务器性能优化之数据库篇</a></h3><div class="post-meta"><span class="meta-item"><span class="meta-icon">📅</span><time itemprop="datePublished" datetime="2021-11-05">2021-11-05</time></span></div><p class="post-excerpt" itemprop="description">游戏服务器性能优化之数据库篇</p><a class="read-more" href="/blog/101b99ae-1cea-80b3-aec6-ed79d82125e5.html" aria-label="阅读《游戏服务器性能优化之数据库篇》全文">阅读全文</a></article><article class="post-card" data-category="技术分享" itemscope itemtype="http://schema.org/BlogPosting"><h3 class="post-title" itemprop="headline"><a href="/blog/101b99ae-1cea-80b2-8861-c6639da890ea.html" itemprop="url">游戏服务器性能优化之程序优化篇</a></h3><div class="post-meta"><span class="meta-item"><span class="meta-icon">📅</span><time itemprop="datePublished" datetime="2021-11-05">2021-11-05</time></span></div><p class="post-excerpt" itemprop="description">游戏服务器性能优化之程序优化篇</p><a class="read-more" href="/blog/101b99ae-1cea-80b2-8861-c6639da890ea.html" aria-label="阅读《游戏服务器性能优化之程序优化篇》全文">阅读全文</a></article><article class="post-card" data-category="技术分享" itemscope itemtype="http://schema.org/BlogPosting"><h3 class="post-title" itemprop="headline"><a href="/blog/101b99ae-1cea-80e2-b146-c934917f74d3.html" itemprop="url">游戏服务器性能优化之架构设计篇</a></h3><div class="post-meta"><span class="meta-item"><span class="meta-icon">📅</span><time itemprop="datePublished" datetime="2021-11-05">2021-11-05</time></span></div><p class="post-excerpt" itemprop="description">游戏服务器性能优化之架构设计篇</p><a class="read-more" href="/blog/101b99ae-1cea-80e2-b146-c934917f74d3.html" aria-label="阅读《游戏服务器性能优化之架构设计篇》全文">阅读全文</a></article><article class="post-card" data-category="技术分享" itemscope itemtype="http://schema.org/BlogPosting"><h3 class="post-title" itemprop="headline"><a href="/blog/101b99ae-1cea-80b7-a2f9-f301a2692f88.html" itemprop="url">Nginx 部署与参数调优</a></h3><div class="post-meta"><span class="meta-item"><span class="meta-icon">📅</span><time itemprop="datePublished" datetime="2021-11-05">2021-11-05</time></span></div><p class="post-excerpt" itemprop="description">Nginx 部署与参数调优</p><a class="read-more" href="/blog/101b99ae-1cea-80b7-a2f9-f301a2692f88.html" aria-label="阅读《Nginx 部署与参数调优》全文">阅读全文</a></article><article class="post-card" data-category="心情随笔" itemscope itemtype="http://schema.org/BlogPosting"><h3 class="post-title" itemprop="headline"><a href="/blog/101b99ae-1cea-8047-a65e-eb321c7f831e.html" itemprop="url">中国互联网就业现状分析</a></h3><div class="post-meta"><span class="meta-item"><span class="meta-icon">📅</span><time itemprop="datePublished" datetime="2021-11-05">2021-11-05</time></span></div><p class="post-excerpt" itemprop="description">中国互联网就业现状分析</p><a class="read-more" href="/blog/101b99ae-1cea-8047-a65e-eb321c7f831e.html" aria-label="阅读《中国互联网就业现状分析》全文">阅读全文</a></article><article class="post-card" data-category="技术分享" itemscope itemtype="http://schema.org/BlogPosting"><h3 class="post-title" itemprop="headline"><a href="/blog/101b99ae-1cea-8096-99a5-ece7d791d65e.html" itemprop="url">C++游戏服务器设计: 架构、性能和最佳实践</a></h3><div class="post-meta"><span class="meta-item"><span class="meta-icon">📅</span><time itemprop="datePublished" datetime="2021-11-05">2021-11-05</time></span></div><p class="post-excerpt" itemprop="description">C++游戏服务器设计: 架构、性能和最佳实践</p><a class="read-more" href="/blog/101b99ae-1cea-8096-99a5-ece7d791d65e.html" aria-label="阅读《C++游戏服务器设计: 架构、性能和最佳实践》全文">阅读全文</a></article><article class="post-card" data-category="技术分享" itemscope itemtype="http://schema.org/BlogPosting"><h3 class="post-title" itemprop="headline"><a href="/blog/79d48a32-e7a6-4f62-9af3-0c62d1120f42.html" itemprop="url">2024年最热门的5大技术趋势：引领未来的创新方向</a></h3><div class="post-meta"><span class="meta-item"><span class="meta-icon">📅</span><time itemprop="datePublished" datetime="2021-11-05">2021-11-05</time></span></div><p class="post-excerpt" itemprop="description">2024年最热门的5大技术趋势：引领未来的创新方向</p><a class="read-more" href="/blog/79d48a32-e7a6-4f62-9af3-0c62d1120f42.html" aria-label="阅读《2024年最热门的5大技术趋势：引领未来的创新方向》全文">阅读全文</a></article><article class="post-card" data-category="心情随笔" itemscope itemtype="http://schema.org/BlogPosting"><h3 class="post-title" itemprop="headline"><a href="/blog/06cebc4e-a050-4b48-b186-aa95bb30f320.html" itemprop="url">从键盘到拐杖：一个游戏开发者眼中的中国延迟退休</a></h3><div class="post-meta"><span class="meta-item"><span class="meta-icon">📅</span><time itemprop="datePublished" datetime="2021-07-02">2021-07-02</time></span></div><p class="post-excerpt" itemprop="description">中国延迟退休</p><a class="read-more" href="/blog/06cebc4e-a050-4b48-b186-aa95bb30f320.html" aria-label="阅读《从键盘到拐杖：一个游戏开发者眼中的中国延迟退休》全文">阅读全文</a><div class="post-tags"><span class="tag" itemprop="keywords">推荐</span><span class="tag" itemprop="keywords">思考</span></div></article><article class="post-card" data-category="最新电影" itemscope itemtype="http://schema.org/BlogPosting"><h3 class="post-title" itemprop="headline"><a href="/blog/e37bba42-914b-499e-8f68-e51699998b9e.html" itemprop="url">加锁文章</a></h3><div class="post-meta"><span class="meta-item"><span class="meta-icon">📅</span><time itemprop="datePublished" datetime="2021-11-05">2021-11-05</time></span></div><p class="post-excerpt" itemprop="description">本文需要输入密码才可访问，密码: 不能说</p><a class="read-more" href="/blog/e37bba42-914b-499e-8f68-e51699998b9e.html" aria-label="阅读《加锁文章》全文">阅读全文</a></article></div></section><footer class="footer" role="contentinfo"><p>© 2025 JiangKing ❤️ <a href="#">RSS Feed</a></p></footer></main><div class="overlay" id="overlay" onclick="toggleSidebar()"></div><div class="category-popup" id="category-popup" role="dialog" aria-labelledby="category-title" aria-hidden="true"><div class="category-title" id="category-title">文章分类</div><ul class="category-list" role="listbox"><li class="category-item active" data-category="all" role="option" aria-selected="true"><span>全部文章</span><span class="category-count">32</span></li><li class="category-item" data-category="技术分享" role="option" aria-selected="false"><span>技术分享</span><span class="category-count">14</span></li><li class="category-item" data-category="心情随笔" role="option" aria-selected="false"><span>心情随笔</span><span class="category-count">3</span></li><li class="category-item" data-category="最新电影" role="option" aria-selected="false"><span>最新电影</span><span class="category-count">2</span></li><li class="category-item" data-category="破解下载" role="option" aria-selected="false"><span>破解下载</span><span class="category-count">2</span></li></ul></div><div class="tag-popup" id="tag-popup" role="dialog" aria-labelledby="tag-title" aria-hidden="true"><div class="tag-title" id="tag-title">文章标签</div><ul class="tag-list" role="listbox"><li class="tag-item active" data-tag="all" role="option" aria-selected="true"><span>全部标签</span><span class="tag-count">32</span></li></ul></div><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Blog",
  "headline": "JiangKing个人技术博客",
  "description": "JiangKing的个人技术博客，分享编程、技术经验与思考",
  "url": "https://jiangking.com/",
  "author": {
    "@type": "Person",
    "name": "JiangKing"
  }
}
</script><style>.category-popup {
  width: 220px;
  background: var(--glass);
  border-radius: 16px;
  box-shadow: 0 8px 32px rgba(99,102,241,0.18);
  z-index: 9999;
  border: 1px solid var(--glass-border);
  color: #fff;
  display: none;
  padding: 0;
  backdrop-filter: blur(16px);
}
.category-popup.show {
  display: block;
}
.category-title {
  padding: 16px 20px 8px 20px;
  font-size: 15px;
  font-weight: bold;
  border-bottom: 1px solid var(--glass-border);
  color: #fff;
  letter-spacing: 1px;
}
.category-list {
  list-style: none;
  margin: 0;
  padding: 0;
}
.category-item {
  padding: 12px 20px;
  font-size: 14px;
  color: #c7d0f7;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  transition: background 0.2s, color 0.2s;
  border-radius: 8px;
}
.category-item:hover,
.category-item.active {
  /* 兼容性渐变写法 */
  background: #8080ff; /* 回退纯色 */
  background: -webkit-linear-gradient(90deg, #8080ff, #a0a0ff, #c0c0ff); /* 旧版WebKit */
  background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent)); /* 标准语法 */
  color: #fff;
  box-shadow: 0 0 8px rgba(128, 128, 255, 0.8);
  box-shadow: 0 0 8px var(--primary);
}
.category-count {
  background: rgba(99,102,241,0.12);
  color: #b3bff7;
  padding: 2px 8px;
  border-radius: 10px;
  font-size: 12px;
  margin-left: 8px;
}

/* 标签弹窗样式 */
.tag-popup {
  width: 220px;
  background: var(--glass);
  border-radius: 16px;
  box-shadow: 0 8px 32px rgba(99,102,241,0.18);
  z-index: 9999;
  border: 1px solid var(--glass-border);
  color: #fff;
  display: none;
  padding: 0;
  backdrop-filter: blur(16px);
}
.tag-popup.show {
  display: block;
}
.tag-title {
  padding: 16px 20px 8px 20px;
  font-size: 15px;
  font-weight: bold;
  border-bottom: 1px solid var(--glass-border);
  color: #fff;
  letter-spacing: 1px;
}
.tag-list {
  list-style: none;
  margin: 0;
  padding: 0;
  max-height: 300px;
  overflow-y: auto;
}
.tag-list::-webkit-scrollbar {
  width: 6px;
}
.tag-list::-webkit-scrollbar-track {
  background: rgba(99,102,241,0.05);
  border-radius: 10px;
}
.tag-list::-webkit-scrollbar-thumb {
  background: rgba(99,102,241,0.3);
  border-radius: 10px;
}
.tag-item {
  padding: 12px 20px;
  font-size: 14px;
  color: #c7d0f7;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  transition: background 0.2s, color 0.2s;
  border-radius: 8px;
}
.tag-item:hover,
.tag-item.active {
  /* 兼容性渐变写法 */
  background: #8080ff; /* 回退纯色 */
  background: -webkit-linear-gradient(90deg, #8080ff, #a0a0ff, #c0c0ff); /* 旧版WebKit */
  background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent)); /* 标准语法 */
  color: #fff;
  box-shadow: 0 0 8px rgba(128, 128, 255, 0.8);
  box-shadow: 0 0 8px var(--primary);
}
.tag-count {
  background: rgba(99,102,241,0.12);
  color: #b3bff7;
  padding: 2px 8px;
  border-radius: 10px;
  font-size: 12px;
  margin-left: 8px;
}
</style><script src="/js/blog.js"></script><script>document.addEventListener('DOMContentLoaded', function() {
  // 分类功能
  const categoryBtn = document.getElementById('category-btn');
  const categoryPopup = document.getElementById('category-popup');
  const categoryItems = document.querySelectorAll('.category-item');
  const cards = document.querySelectorAll('.post-card');
  
  // 确保当前页面导航激活状态正确设置
  function updateNavActiveState() {
    // 清除所有导航项的激活状态
    document.querySelectorAll('.nav-item').forEach(item => {
      item.classList.remove('active');
    });
    
    // 根据当前页面路径设置激活状态
    const currentPath = window.location.pathname;
    let activeNav = null;
    
    if (currentPath === '/' || currentPath.includes('/index') || currentPath === '/blog/') {
      activeNav = document.querySelector('.nav-item a[href="/"]').parentElement;
    } else if (currentPath.includes('/github-trending')) {
      activeNav = document.querySelector('.nav-item a[href="/github-trending.html"]').parentElement;
    } else if (currentPath.includes('/about')) {
      activeNav = document.querySelector('.nav-item a[href="/about.html"]').parentElement;
    }
    
    if (activeNav) {
      activeNav.classList.add('active');
    }
  }
  
  // 页面加载时更新导航激活状态
  updateNavActiveState();
  
  categoryBtn && categoryBtn.addEventListener('click', function(e) {
    e.stopPropagation();
    
    // 获取分类按钮的位置
    const btnRect = categoryBtn.getBoundingClientRect();
    
    // 设置弹出框的位置
    categoryPopup.style.position = 'fixed';
    categoryPopup.style.left = (btnRect.right + 10) + 'px';
    categoryPopup.style.top = btnRect.top + 'px';
    
    categoryPopup.classList.toggle('show');
    
    // 隐藏标签弹窗
    if (tagPopup.classList.contains('show')) {
      tagPopup.classList.remove('show');
    }
  });
  
  document.addEventListener('click', function(e) {
    if (!categoryPopup.contains(e.target) && !categoryBtn.contains(e.target)) {
      categoryPopup.classList.remove('show');
    }
  });
  
  categoryItems.forEach(item => {
    item.addEventListener('click', function() {
      categoryItems.forEach(i => i.classList.remove('active'));
      this.classList.add('active');
      const selectedCategory = this.getAttribute('data-category');
      cards.forEach(card => {
        const cardCategories = card.getAttribute('data-category');
        if (selectedCategory === 'all' || (cardCategories && cardCategories.includes(selectedCategory))) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
      categoryPopup.classList.remove('show');
    });
  });
  
  // 标签功能
  const tagBtn = document.getElementById('tag-btn');
  const tagPopup = document.getElementById('tag-popup');
  const tagList = document.querySelector('.tag-list');
  
  // 确保标签按钮有效并正确设置点击事件
  function initializeTagBtn() {
    if (!tagBtn) return;
    
    // 移除可能存在的旧事件监听器
    const newTagBtn = tagBtn.cloneNode(true);
    if (tagBtn.parentNode) {
      tagBtn.parentNode.replaceChild(newTagBtn, tagBtn);
    }
    
    // 给新的标签按钮添加事件监听器
    newTagBtn.addEventListener('click', function(e) {
      e.stopPropagation();
      
      // 获取标签按钮的位置
      const btnRect = newTagBtn.getBoundingClientRect();
      
      // 设置弹出框的位置
      tagPopup.style.position = 'fixed';
      tagPopup.style.left = (btnRect.right + 10) + 'px';
      tagPopup.style.top = btnRect.top + 'px';
      
      tagPopup.classList.toggle('show');
      
      // 隐藏分类弹窗
      if (categoryPopup.classList.contains('show')) {
        categoryPopup.classList.remove('show');
      }
    });
    
    return newTagBtn;
  }
  
  // 初始化标签按钮
  const updatedTagBtn = initializeTagBtn();
  
  // 为"全部标签"添加点击事件
  const allTagItem = document.querySelector('.tag-item[data-tag="all"]');
  if (allTagItem) {
    allTagItem.addEventListener('click', function() {
      document.querySelectorAll('.tag-item').forEach(i => i.classList.remove('active'));
      this.classList.add('active');
      
      // 显示所有文章
      cards.forEach(card => {
        card.style.display = 'block';
      });
      
      tagPopup.classList.remove('show');
    });
  }
  
  // 收集所有文章的标签
  const allTags = new Map();
  cards.forEach(card => {
    const tagElements = card.querySelectorAll('.tag');
    tagElements.forEach(tagElement => {
      const tagText = tagElement.textContent.trim();
      if (allTags.has(tagText)) {
        allTags.set(tagText, allTags.get(tagText) + 1);
      } else {
        allTags.set(tagText, 1);
      }
    });
  });
  
  // 动态生成标签列表
  allTags.forEach((count, tag) => {
    const li = document.createElement('li');
    li.className = 'tag-item';
    li.setAttribute('data-tag', tag);
    
    const spanTag = document.createElement('span');
    spanTag.textContent = tag;
    
    const spanCount = document.createElement('span');
    spanCount.className = 'tag-count';
    spanCount.textContent = count;
    
    li.appendChild(spanTag);
    li.appendChild(spanCount);
    
    li.addEventListener('click', function() {
      document.querySelectorAll('.tag-item').forEach(i => i.classList.remove('active'));
      this.classList.add('active');
      const selectedTag = this.getAttribute('data-tag');
      
      cards.forEach(card => {
        const cardTags = Array.from(card.querySelectorAll('.tag')).map(t => t.textContent.trim());
        if (selectedTag === 'all' || cardTags.includes(selectedTag)) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
      
      tagPopup.classList.remove('show');
    });
    
    tagList.appendChild(li);
  });
  
  document.addEventListener('click', function(e) {
    if (tagPopup && !tagPopup.contains(e.target) && !updatedTagBtn.contains(e.target)) {
      tagPopup.classList.remove('show');
    }
  });
});</script></body></html>