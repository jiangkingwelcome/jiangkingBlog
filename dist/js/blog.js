function detectBrowser(){var e=navigator.userAgent.toLowerCase(),t=-1<e.indexOf("qqbrowser")||-1<e.indexOf("mqqbrowser"),e=-1<e.indexOf("chrome")&&!t;return document.documentElement.classList.add("browser-chrome"),{isQQBrowser:t,isChrome:e}}var _animateCursor,mouseX,mouseY,currentX,currentY,browserInfo=detectBrowser(),cursorGlow=(console.log("Browser detection:",browserInfo),window.addEventListener("load",function(){setTimeout(function(){var e=document.getElementById("loader");e&&(e.style.display="none")},1e3)}),document.getElementById("cursorGlow"));function createStars(){var e=document.getElementById("stars");if(e)for(var t=0;t<100;t++){var o=document.createElement("div");o.className="star",o.style.width=3*Math.random()+"px",o.style.height=o.style.width,o.style.left=100*Math.random()+"%",o.style.top=100*Math.random()+"%",o.style.animationDelay=3*Math.random()+"s",e.appendChild(o)}}function toggleSidebar(){var e=document.getElementById("sidebar"),t=document.getElementById("overlay");e&&t&&(e.classList.toggle("active"),t.classList.toggle("active"))}cursorGlow&&(_animateCursor=function(){currentX+=.1*(mouseX-currentX),currentY+=.1*(mouseY-currentY),cursorGlow.style.left=currentX+"px",cursorGlow.style.top=currentY+"px",requestAnimationFrame(_animateCursor)},currentY=currentX=mouseY=mouseX=0,document.addEventListener("mousemove",function(e){mouseX=e.clientX,mouseY=e.clientY}),_animateCursor()),createStars();var lastScrollTop=0,navItems=(window.addEventListener("scroll",function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=document.getElementById("topNav");t&&(t.style.transform=lastScrollTop<e&&100<e?"translateY(-100%)":"translateY(0)"),lastScrollTop=e<=0?0:e}),document.querySelectorAll(".nav-item")),toolBtns=(navItems.forEach(function(t){t.addEventListener("click",function(e){navItems.forEach(function(e){return e.classList.remove("active")}),t.classList.add("active")})}),document.querySelectorAll(".tool-btn")),postCards=(toolBtns.forEach(function(e){e.addEventListener("click",function(){var e=this;this.style.transform="scale(0.95)",setTimeout(function(){e.style.transform=""},100)})}),document.querySelectorAll(".post-card")),tags=(postCards.forEach(function(n){n.addEventListener("mousemove",function(e){var t=n.getBoundingClientRect(),o=e.clientX-t.left,o=(t.width/2-o)/20;n.style.transform="perspective(1000px) rotateX(".concat((e.clientY-t.top-t.height/2)/20,"deg) rotateY(").concat(o,"deg) scale(1.02) translateZ(10px)")}),n.addEventListener("mouseleave",function(){n.style.transform=""})}),document.querySelectorAll(".tag"));tags.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=document.createElement("span"),o=(t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.style.background="rgba(255, 255, 255, 0.3)",t.style.borderRadius="50%",t.style.transform="translate(-50%, -50%) scale(0)",t.style.animation="rippleEffect 0.6s ease-out",this.getBoundingClientRect());t.style.left=e.clientX-o.left+"px",t.style.top=e.clientY-o.top+"px",this.appendChild(t),setTimeout(function(){return t.remove()},600)})}),document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){var t=this.getAttribute("href");if("#"===t)e.preventDefault();else try{var o=document.querySelector(t);o&&(e.preventDefault(),o.scrollIntoView({behavior:"smooth"}))}catch(e){console.warn("Smooth scroll target not found or invalid selector:",t)}})});